---
layout: post
title: "python学习"
categories: opencv
---

# python 学习
## 1、*args和**kwargs
### 1.1、*args和**kwargs基础用法
*args, **kwargs允许传递可变数量的参数给函数，*args接收的是可变熟练的字符串，**kwargs接收的是可变数量的字典

```python
def test_var_args(f_arg, *argv):
    # print("first normal arg:", f_arg)
    for arg in argv:
        print("another arg through *argv:", arg)

test_var_args('yasoob', 'python', 'eggs', 'test')
print("the other example")
test_var_args('I', 'love', 'learn', 'python','verymuch')
# another arg through *argv: python
# another arg through *argv: eggs
# another arg through *argv: test
# the other example
# another arg through *argv: love
# another arg through *argv: learn
# another arg through *argv: python
# another arg through *argv: verymuch

def greet_me(**kwargs):
    for key, value in kwargs.items():
        print("{0} = {1}".format(key, value))

greet_me(test='100',test1='100')
# test = 100
# test1 = 100
``` 
### 1.2、*args和**kwargs在函数中的调用
```python
def test_args_kwargs(arg1, arg2, arg3):
    print("arg1:", arg1)
    print("arg2:", arg2)
    print("arg3:", arg3)

args = ("two", 3, 5)
test_args_kwargs(*args)

# arg1: two
# arg2: 3
# arg3: 5
print('test **kwargs')
kwargs = {"arg3": 3, "arg2": "two", "arg1": 5}
test_args_kwargs(**kwargs)
```


## 2、Debugging
### 2.1 python 采用pdb进行调试
```sh
python -m pdb my_script.py
```
```python
import pdb

def make_bread():
    pdb.set_trace()
    return "I don't have time"

print(make_bread())
```
调试中相关的命令：
c:继续执行
w:显示执行到当前行的信息
n:进行下一步


## 3、Generators
* Iterable 是指有__iter__或者__getitem__ 方法返回一个迭代器，(iterator)
* Iterator 是指定义了next(python2)或者__next__方法
* Iteration 从一些东西里取出可迭代元素的方法
* Generators 是一些迭代器，但是只能遍历一次，因为它没有把所有的值保存在内存中，它的值是在运行过程中动态加载进来的。
```python
def generator_function():
    for i in range(10):
        yield i

test_generator = generator_function()
for number in test_generator:
	print(number)
```
生成器遍历完成时，会触发*StopIteration* 。
```python
teststring = iter("test")
print(next(teststring))
print(next(teststring))
print(next(teststring))
print(next(teststring))
print(next(teststring))
# t
# e
# s
# t
# Traceback (most recent call last):
#     print(next(teststring))
# StopIteration
```


## 4、Map,Filter and Reduce
### 4.1、Map
map 把一个函数应用于一个list的所有元素
map(function_to_apply,list_of_input)

```python
items = [1, 2, 3, 4, 5]
squared = []
for i in items:
    squared.append(i**2)
print(squared)
test = list(map(lambda x :x**2,items))
```
### 4.2、Filter
filter 创建链表判断哪个函数返回true
```python
number_list = range(-5,5)
less_than_zero = list(filter(lambda x : x < 0,number_list))
print(less_than_zero)
# [-5, -4, -3, -2, -1]
```
### 4.3 Reduce
Reduce 在列表上执行一些操作并返回结果
```python
from functools import reduce
product = reduce((lambda x,y:x*y),[1,2,3,4])
print(product)
# 24
```

## 5、Data Structure
### set
set 用来区分保存不重复的元素
### intersect
计算两个set的交集
### difference
计算两个set的差集

## 6、三元操作
```python
condition_if_true if condition else condition_if_false
```
```python
is_nice = True
state = "nice" if is_nice else "not nice"
```

```python
(if_test_is_false, if_test_is_true)[test]
```

```python
is_nice = True
state = "nice" if is_nice else "not nice"
```
```python
True or "Some"
# True
False or 'some'
# some
```

